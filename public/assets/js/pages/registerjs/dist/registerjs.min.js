function formRegister(){}formRegister.prototype.initialize=function(){$("#btnCreateAcount").click(function(){cosmo.register.validate()&&cosmo.register.save()}),$("#frmregister-email").blur(function(){cosmo.register.validateUsername($(this).val())})},formRegister.prototype.save=function(){var varFormRegister=this.createObject(),returnSuccess=function(data){cosmo.dialog.success("Seja bem vindo!",data.message,function(){window.location.href=data.callback})},errorHandler=function(jqXHR){cosmo.dialog.error("Erro",jqXHR.responseJSON[0])},configurationAjaxSend=cosmo.ajax.getDefaults();return configurationAjaxSend.url=cosmo.urlbase+cosmo.routes_name.REGISTER_SAVE,configurationAjaxSend.method="POST",configurationAjaxSend.data=varFormRegister,configurationAjaxSend.type="json",configurationAjaxSend.sucess=returnSuccess,configurationAjaxSend.error=errorHandler,cosmo.ajax.send(configurationAjaxSend),!0},formRegister.prototype.validateUsername=function(email){if(!this.validateEmail(email))return!1;var data="username="+email,returnSuccess=function(){},errorHandler=function(jqXHR){cosmo.dialog.error("Erro",jqXHR.responseJSON[0])},configurationAjaxSend=cosmo.ajax.getDefaults();return configurationAjaxSend.url=cosmo.urlbase+cosmo.routes_name.AVALIABLE_USERNAME_COSMO,configurationAjaxSend.method="GET",configurationAjaxSend.data=data,configurationAjaxSend.type="json",configurationAjaxSend.sucess=returnSuccess,configurationAjaxSend.error=errorHandler,cosmo.ajax.send(configurationAjaxSend),!0},formRegister.prototype.validateEmail=function(email){var re;return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email)},formRegister.prototype.createObject=function(){var varFormRegister={};return varFormRegister.username=$("#frmregister-email").val(),varFormRegister.fullname=$("#frmregister-fullname").val(),varFormRegister.password=$("#frmregister-password").val(),varFormRegister.nickname=$("#frmregister-nickname").val(),varFormRegister},formRegister.prototype.validate=function(){var varFormRegister=this.createObject();return""===varFormRegister.username.trim()?(cosmo.dialog.error("Erro","O campo Email é obrigatório!"),!1):this.validateEmail(varFormRegister.username)?""===varFormRegister.fullname.trim()?(cosmo.dialog.error("Erro","O campo Nome Completo é obrigatório!"),!1):""===varFormRegister.nickname.trim()?(cosmo.dialog.error("Erro","O campo Nome de Usuário é obrigatório!"),!1):""===varFormRegister.password.trim()?(cosmo.dialog.error("Erro","O campo Senha é obrigatório!"),!1):!(varFormRegister.password.length<=3)||(cosmo.dialog.error("Erro","O campo Senha deve possuir mais do que 3 caracteres!"),!1):(cosmo.dialog.error("Erro","O campo Email informado é inválido!"),!1)},window.cosmo=window.cosmo||{},window.cosmo.register=window.cosmo.register||new formRegister,$("document").ready(function(){window.cosmo.register.initialize()});